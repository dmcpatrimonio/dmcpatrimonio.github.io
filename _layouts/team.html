---
layout: page
---
{%- assign members = site.person | sort: "givenName" | sort: "familyName" -%}
{%- assign project = site.baseurl | remove: "/" -%}
{%- assign roles = site.data.roles -%}

{{ content }}

{%- for role in roles -%}
  {%- capture memberlist -%}
    {%- for member in members -%}
      {%- assign affiliates = member.affiliation | where: "Organization", page.slug -%}
      {%- for affiliate in affiliates -%}
        {%- assign teamrole = affiliate.Role | where: "endDate", nil | where: "name", role -%}
        {%- if teamrole.size > 0 -%}
        <li itemscope itemtype="http://schema.org/Person">
          <a href="{{ member.url }}">{{ member.givenName }} {{ member.additionalName }} {{ member.familyName }}</a>
        </li>
        {% endif %}
      {%- endfor -%}
    {%- endfor -%}
  {%- endcapture -%}
  {%- if memberlist.size > 0 -%}
  <h2 class="team">{{ role }}</h2>
  <ul class="list members">
    {{ memberlist }}
  </ul>
  {%- endif -%}
{%- endfor -%}

<!-- vim: set ft=liquid shiftwidth=2 tabstop=2 expandtab foldmethod=indent : -->
